<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Index</title>
</head>
<body>
   
<script> 
    
    let userWins = 0;
    let computerWins = 0;
    let ties = 0;
    let gameCount = 0;

    function getComputerChoice(){
        let choiceNum = Math.floor(Math.random() * 3);

        switch(choiceNum){
            case 0:
                return 'Rock';
            case 1: 
                return 'Paper';
            case 2: 
                return 'Scissors';
        }
    }

    function playRound(playerSelection, computerSelection){
           
        if(playerSelection.toUpperCase() === 'ROCK' || playerSelection.toUpperCase() === 'PAPER' || playerSelection.toUpperCase() === 'SCISSORS') {
                if(playerSelection.toUpperCase() === 'ROCK') { // IF player selects Rock
                    if(computerSelection === 'Paper'){
                        computerWins++;
                        return alert('You lose! Paper beats Rock!');
                    } else if (computerSelection === 'Scissors'){
                        userWins++;
                        return alert('You win! Rock beats Scissors!');
                    } else {
                        ties++;
                        return alert('Tie! Play again.');
                    }

                } 
               else if(playerSelection.toUpperCase() === 'PAPER'){ // IF player selects Paper
                    if(computerSelection === 'Rock'){
                        userWins++;
                        return alert('You win! Paper beats Rock!');
                    } else if(computerSelection === 'Scissors'){
                        computerWins++;
                        return alert('You lose! Scissors beats Paper');
                    } else {
                        ties++;
                        return alert('Tie! Play again.');
                    }
                }
               else if(playerSelection.toUpperCase() === 'SCISSORS'){ // IF player Selects Scissors
                    if(computerSelection === 'Rock'){
                        computerWins++;
                        return alert('You lose! Rock beats Scissors');
                    } else if(computerSelection === 'Paper'){
                        userWins++;
                        return alert('You win! Scissors beats Paper');
                    } else {
                        ties++;
                        return alert('Tie! Play again.');
                    }
                }
            
        } 

    }

    function game(){

        let gameActive = true;

        while(gameActive) {
        
            let playerSelection = prompt("Rock, Papers, or Scissors?");

            playRound(playerSelection, getComputerChoice());
            gameCount++;

            if((gameCount == 5 || (userWins === 3 && userWins > computerWins) || (computerWins == 3 && computerWins > userWins))){
                gameActive = false;
            }

        }



    }

    game();

    alert("Computer Wins: " + computerWins + "\n" +
         "User Wins: " + userWins + "\n" +
         "Game Count: " + gameCount + "\n" +
         "Ties: " + ties);


</script>
</body>
</html>